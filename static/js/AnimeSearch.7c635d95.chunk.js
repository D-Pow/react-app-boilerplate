"use strict";(self.webpackChunkreact_app_boilerplate=self.webpackChunkreact_app_boilerplate||[]).push([[463],{8083:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(5861),a=n(9439),u=n(7757),c=n.n(u),s=(n(1249),n(7640),n(9924),n(5893)),i=n(7294);n(1539),n(8674);function o(e,t){return e+encodeURIComponent(t)}var l="https://kitsu.io/api/edge/anime?filter[text]=";function p(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(o(l,t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),console.error("Error in fetching Kitsu results: "+e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var h=n(8148);var v=function(e){var t=(0,i.useState)(""),n=(0,a.Z)(t,2),u=n[0],o=n[1],l=(0,h.vU)(),f=(0,a.Z)(l,2),v=f[0],d=f[1],m=(0,i.useState)([]),x=(0,a.Z)(m,2),g=x[0],w=x[1],j=(0,i.useRef)(),k=function(){var e=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(u.toLowerCase());case 2:t=e.sent,n=t.data.map((function(e){return e.attributes.canonicalTitle})),w(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"Enter"===v&&(d(null),k()),(0,i.useEffect)((function(){var e;null==j||null===(e=j.current)||void 0===e||e.focus()}),[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Anime search"}),(0,s.jsx)("input",{className:"form-control input-large remove-focus-highlight",type:"search",placeholder:'e.g. "Kimi no na wa"',value:u,onChange:function(e){var t=e.target.value;o(t)},ref:j}),(0,s.jsx)("button",{className:"mx-5px",onClick:k,children:"Search"}),function(){if(g.length)return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h5",{children:"Results"}),g.map((function(e,t){return(0,s.jsx)("div",{className:"search-result",children:e},t)}))]})}()]})},d=v}}]);